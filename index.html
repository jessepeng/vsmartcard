
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to the Virtual Smart Card Architecture documentation! &mdash; Virtual Smart Card Architecture 2014-04-18 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2014-04-18',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/chip.ico"/>
    <link rel="top" title="Virtual Smart Card Architecture 2014-04-18 documentation" href="#" />
    <link rel="next" title="Virtual Smart Card" href="virtualsmartcard/README.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="virtualsmartcard/README.html" title="Virtual Smart Card"
             accesskey="N">next</a></li>
        <li><a href="#">Virtual Smart Card Architecture 2014-04-18 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-the-vsmartcard-documentation">
<h1>Welcome to the Virtual Smart Card Architecture documentation!<a class="headerlink" href="#welcome-to-the-vsmartcard-documentation" title="Permalink to this headline">¶</a></h1>
<p>Welcome to the Virtual Smart Card Architecture. Virtual Smart Card Architecture is an umbrella project for various
projects concerned with the emulation of different types of smart card readers
or smart cards themselves.</p>
<div class="figure">
<p><img src="_images/tikz-a5bd0f208250d3d2c73ee51206b50fa3496b49e8.png" alt="\input{%(wd)s/bilder/tikzstyles.tex}
\tikzstyle{bla}=[box, klein, rounded rectangle,  inner sep=.3cm]
\node (a) {};

\node[bla, above left=.5cm of a]
(usb) {USB Terminal};

\node[bla, below left=.5cm of a]
(nfc) {NFC Terminal};

\node[bla, rounded rectangle left arc=concave, above right=.5cm of a]
(sc)  {Real Smart Card};

\node[bla, rounded rectangle left arc=concave, below right=.5cm of a]
(vsc) {Virtual Smart Card};

\begin{pgfonlayer}{background}
\path[line width=.8cm,color=hublue!20]
(a.mid) edge [out=180, in=0] (usb.center)
edge [out=180, in=0] (nfc.center)
edge [out=0, in=180] (sc.center)
edge [out=0, in=180] (vsc.center)
;
\end{pgfonlayer}" /></p>
<p class="caption">The Virtual Smart Card Architecture connects different aspects of smart card handling</p></div><p>Currently the following projects are part of Virtual Smart Card Architecture:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="virtualsmartcard/README.html">Virtual Smart Card</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pcsc-relay/README.html">PC/SC Relay</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ccid/README.html">USB CCID Emulator</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="npa/README.html">nPA Smart Card Library</a><ul class="simple">
</ul>
</li>
</ul>
</div>
<p>Looking for a feature the included programs do not offer? Want to extend the
functionality of some library? Apart from requesting a new feature, you can
have a look at these programming guides and try yourself:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="virtualsmartcard/api.html">Creating a Virtual Smart Card</a></li>
<li class="toctree-l1"><a class="reference internal" href="npa/api.html">Programming with the nPA Library</a></li>
</ul>
</div>
<div class="section" id="example-use-cases">
<h2>Example Use Cases<a class="headerlink" href="#example-use-cases" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mobile-phone-with-virtual-smartcard-connected-via-nfc">
<h3>Mobile Phone with Virtual Smartcard connected via NFC<a class="headerlink" href="#mobile-phone-with-virtual-smartcard-connected-via-nfc" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<p><img src="_images/tikz-80f9ee6200d577d22533862391fb23df44c49417.png" alt="\input{%(wd)s/bilder/tikzstyles.tex}
\tikzstyle{bla}=[kleiner, text width=.45\textwidth]

\node (antenna)
{\includegraphics[width=1cm]{%(wd)s/bilder/network-wireless.pdf}};
\node (antennatext) [right=0of antenna, bla]
{Smartphone emulates nPA via NFC};
\node (display) [below=.25of antenna]
{\includegraphics[width=1cm]{%(wd)s/bilder/display.pdf}};
\node (displaytext) [right=0of display, bla]
{Display service provider, purpose of transaction, security context,
requested permissions};
\node (firewall) [below=.25of display]
{\includegraphics[width=1cm]{%(wd)s/bilder/Firewall.pdf}};
\node (firewalltext) [right=0of firewall, bla]
{Verification of terminal authentication and sanitiy checks};

\node (features) [fit=(display) (antenna) (firewall)] {};

\node (moko) [left=0of features.west] {\includegraphics[height=4cm]{%(wd)s/bilder/phone-fic-neo-freerunner.pdf}};

\node (pc)  [left=1.5of moko]
{\includegraphics[width=2cm]{%(wd)s/bilder/ivak_kiosk-terminal.pdf}};

\begin{pgfonlayer}{background}

    \node (mokobox)
    [box,
    fit=(moko) (antennatext) (displaytext) (firewalltext)
    (features)] {};

    \draw [rfid]
    (pc) -- (moko) ;

\end{pgfonlayer}" /></p>
<p class="caption">Emulating a smart card for checking an untrusted device</p></div><div class="figure">
<p><img src="_images/tikz-af7c500944810aa476bbd56c4c9693e6faec1d17.png" alt="\input{%(wd)s/bilder/tikzstyles.tex}
\tikzstyle{bla}=[shape=rectangle split, rectangle split parts=2,
every text node part/.style={align=center, klein}, text width=7cm,
every second node part/.style={kleiner}, inner sep=0pt]

\tikzstyle{keks}=[to path={-- ++(.1,0) |- (\tikztotarget)}]

\node (touchatag)
    {\includegraphics[keepaspectratio, height=2cm,
    width=2cm]{%(wd)s/bilder/touchatag.png}};
\node (touchatagbeschreibung) [below=0cm of touchatag, kleiner]
{touchatag};

\node (pcsc-relay) [right=of touchatag]
{\texttt{pcsc-relay}};
\node (pcsc-relaybeschreibung) [below=0cm of pcsc-relay, kleiner]
{NFC emulator
};

\node (vicc) [right=of pcsc-relay]
{\texttt{vicc -t nPA}};
\node (viccbeschreibung) [below=0cm of vicc, kleiner]
{nPA emulator};

\node (group) [fit=(touchatag) (pcsc-relay) (vicc) (touchatagbeschreibung)
(pcsc-relaybeschreibung) (viccbeschreibung)] {};
\node (funktionenchat) [below=0cm of group, bla]
{
    PACE
    \nodepart{second}
            \begin{itemize}
        \item Display context (eID/eSign)
        \item Display requested permissions
    \end{itemize}
};
\node (funktionenpace) [below=.5 of funktionenchat, bla]
{
    Terminal Authentication
    \nodepart{second}
            \begin{itemize}
        \item Verify authenticy of terminal
        \item Check freshness of cv certificate
        \item With certificate database
            \begin{itemize}
                \item Identification of service provider
                \item Display purpose of transaction
            \end{itemize}
    \end{itemize}
};

\begin{pgfonlayer}{background}
    \node (box) [fit=(touchatag) (pcsc-relay) (vicc) (touchatagbeschreibung)
    (pcsc-relaybeschreibung) (viccbeschreibung) (funktionenchat)
    (funktionenpace), box, inner sep=.5cm] {};
    \node (boxbild) at (box.north west)
    {\includegraphics[keepaspectratio, height=1.5cm,
    width=1.5cm]{%(wd)s/bilder/moko/moko_reader.png}};
    \node [right=0cm of boxbild.east, yshift=.3cm]
    {Openmoko Neo FreeRunner};
\end{pgfonlayer}

\node (a) [left=1.5of box]
    {\includegraphics[keepaspectratio, height=4cm,
    width=4cm]{%(wd)s/bilder/ivak_kiosk-terminal.pdf}};
\node (e) [below=0cm of a, text width=2.5cm, align=center]
{(Public) Terminal};


\begin{pgfonlayer}{background}
    \path
    (touchatag)  edge  [doppelpfeil] (pcsc-relay)
    (pcsc-relay) edge [doppelpfeil] (vicc)
    (vicc.east) edge [keks, pfeil] (funktionenchat.text east)
    (vicc.east) edge [keks, pfeil] (funktionenpace.text east)
    (a) edge [decorate, decoration={expanding waves, angle=20, segment
    length=6}, nichtrundelinie] (touchatag.south west);
\end{pgfonlayer}" /></p>
<p class="caption">Implementation of the nPA emulator</p></div></div>
<div class="section" id="mobile-smart-card-reader">
<h3>Mobile Smart Card Reader<a class="headerlink" href="#mobile-smart-card-reader" title="Permalink to this headline">¶</a></h3>
<div class="figure">
<p><img src="_images/tikz-1d33e42386e7cbcfb6928b3734eb67c93a087f5f.png" alt="\input{%(wd)s/bilder/tikzstyles.tex}
\tikzstyle{bla}=[kleiner, text width=.45\textwidth]

\node (reader)
{\includegraphics[width=1cm]{%(wd)s/bilder/my_cardreader.pdf}};
\node (readertext) [right=0of reader, bla]
{Smartphone provides smart card reader via USB};
\node (display) [below=0of reader]
{\includegraphics[width=1cm]{%(wd)s/bilder/display.pdf}};
\node (displaytext) [right=0of display, bla]
{Secure display of service provider and purpose of transaction};
\node (keyboard) [below=0of display]
{\includegraphics[width=1cm]{%(wd)s/bilder/keyboard.pdf}};
\node (keyboardtext) [right=0of keyboard, bla]
{Secure PIN Entry};
\node (firewall) [below=0of keyboard]
{\includegraphics[width=1cm]{%(wd)s/bilder/Firewall.pdf}};
\node (firewalltext) [right=0of firewall, bla]
{Verification of terminal authentication and sanitiy checks};

\node (features) [fit=(display) (keyboard) (reader) (firewall)] {};

\node (moko) [left=0of features.west] {\includegraphics[height=4cm]{%(wd)s/bilder/phone-fic-neo-freerunner.pdf}};

\node (epa) [left=1.5of moko, yshift=-2cm]
{\includegraphics[width=3cm]{%(wd)s/bilder/nPA_VS.png}};
\node (pc)  [left=1.5of moko, yshift=1.5cm]
{\includegraphics[width=3cm]{%(wd)s/bilder/computer-tango.pdf}};

\begin{pgfonlayer}{background}

    \node (mokobox)
    [box,
    fit=(moko) (readertext) (displaytext) (keyboardtext) (firewalltext)
    (features)] {};

    \draw [usb]
    (moko) -- (pc.center) ;
    \draw [decorate, decoration={expanding waves, angle=20, segment length=6}, nichtrundelinie]
    (moko) -- (epa) ;

\end{pgfonlayer}" /></p>
<p class="caption">Portable smart card reader with trusted user interface</p></div><div class="figure">
<p><img src="_images/tikz-051059070b2965bd273ce76c4955237e978bf27c.png" alt="\input{%(wd)s/bilder/tikzstyles.tex}
\tikzstyle{keks}=[to path={-- ++(.1,0) |- (\tikztotarget)}]

\tikzstyle{bla}=[shape=rectangle split, rectangle split parts=2,
every text node part/.style={align=center, klein}, text width=7cm,
every second node part/.style={kleiner}, inner sep=0pt]

\node (ccid-emulator)
{\texttt{ccid-emulator}};

\node (basis) [below=3of ccid-emulator]
{\includegraphics[keepaspectratio, height=2cm,
    width=2cm]{%(wd)s/bilder/moko/basisleser_plain_klein.png}};
\node (basisbeschreibung) [below=0cm of basis, kleiner, text width=2cm]
{Reiner SCT RFID basis};

\node (npa) [left=1.5of basis]
{\includegraphics[keepaspectratio, height=3cm,
    width=3cm]{%(wd)s/bilder/nPA_VS.png}};
\node (npabeschreibung) [below=0cm of npa, kleiner]
{German identity card};

\node (funktionenchat) [right=.6cm of ccid-emulator.east, anchor=text west, bla]
{
    PACE
    \nodepart{second}
    \begin{itemize}

    \item Display CHAT
        \begin{itemize}
            \item Display context (eID/eSign)
            \item Display requested permissions
        \end{itemize}

        \item Display certificate description
        \begin{itemize}
            \item Identification of service provider
            \item Display purpose of transaction
        \end{itemize}

        \item Secure PIN entry
    \end{itemize}
};
\node (funktionenpace) [below=.5 of funktionenchat, bla]
{
    Terminal Authentication
    \nodepart{second}
            \begin{itemize}
        \item Verify authenticy of terminal
        \item Check freshness of cv certificate
    \end{itemize}
};

\begin{pgfonlayer}{background}
    \node (box) [fit=(ccid-emulator) (basis) (basisbeschreibung)
    (funktionenchat) (funktionenpace), box, inner sep=.5cm] {};
    \node (boxbild) at (box.north west)
    {\includegraphics[keepaspectratio, height=1.5cm,
    width=1.5cm]{%(wd)s/bilder/moko/moko_reader.png}};
    \node [right=0cm of boxbild.east, yshift=.3cm]
    {Openmoko Neo FreeRunner};
\end{pgfonlayer}

\node (a) [above=1of npa]
    {\includegraphics[keepaspectratio, height=3cm,
    width=3cm]{%(wd)s/bilder/computer-tango.pdf}};


\begin{pgfonlayer}{background}
    \path
    (ccid-emulator) edge [doppelpfeil] (basis)
    (basis) edge [rfid] (npa)
    (a.center) edge [usb] (ccid-emulator)
    (ccid-emulator.east) edge [pfeil, keks] (funktionenchat.text west)
    (ccid-emulator.east) edge [pfeil, keks] (funktionenpace.text west);
\end{pgfonlayer}" /></p>
<p class="caption">Implementation of a mobile smart card reader</p></div></div>
</div>
<div class="section" id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>You can download the latest release of the Virtual Smart Card Architecture <a class="reference external" href="http://sourceforge.net/projects/vsmartcard/files">here</a>.</p>
<p>Alternatively, you can clone our git repository:</p>
<div class="highlight-sh"><div class="highlight"><pre>git clone https://github.com/frankmorgner/vsmartcard.git
</pre></div>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p id="bibtex-bibliography-index-0"><table class="docutils citation" frame="void" id="morgner2012" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><span class="first last"><span><span><span><span><span>Frank</span><span> </span></span><span>Morgner</span></span><span>.</span></span><span> </span><span><span>Mobiler chipkartenleser für den neuen personalausweis: sicherheitsanalyse und erweiterung des &#8220;systems npa&#8221;</span><span>.</span></span></span><span> </span><span><span><span>Master&#8217;s thesis</span><span>, </span><span>Humboldt-Universität zu Berlin</span></span><span>, </span><span>2012</span><span>.</span></span></span></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mooe10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><span class="first last"><span><span><span><span><span><span>Frank</span><span> </span></span><span>Morgner</span></span><span> and </span><span><span><span>Dominik</span><span> </span></span><span>Oepen</span></span></span><span>.</span></span><span> </span><span><span>&#8220;die gesamte technik ist sicher&#8221;. besitz und wissen: relay-angriffe auf den neuen personalausweis</span><span>.</span></span></span><span> </span><span><span><span>In</span><span> </span><span><em><span>27th Chaos Communication Congress</span></em><span>, </span><span>26–31</span><span>.</span></span></span><span> </span><span><span>Chaos Computer Club</span><span>, </span><span><span>12</span><span> </span><span>2010</span></span><span>.</span></span></span></span></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mobisec2012" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[3]</td><td><span class="first last"><span><span><span><span><span><span><span>Frank</span><span> </span></span><span>Morgner</span></span><span>, </span><span><span><span>Dominik</span><span> </span></span><span>Oepen</span></span><span>, </span><span><span><span>Wolf</span><span> </span></span><span>Müller</span></span></span><span>, and </span><span><span><span>Jens-Peter</span><span> </span></span><span>Redlich</span></span></span><span>.</span></span><span> </span><span><span>Mobile smart card reader using nfc-enabled smartphones</span><span>.</span></span></span><span> </span><span><span><span>In</span><span> </span><span><span><span><span><span><span><span><span>Andreas.</span><span> </span></span><span>Schmidt</span></span><span>, </span><span><span><span>Giovanni</span><span> </span></span><span>Russello</span></span><span>, </span><span><span><span>Ioannis</span><span> </span></span><span>Krontiris</span></span></span><span>, and </span><span><span><span>Shiguo</span><span> </span></span><span>Lian</span></span></span><span>, </span><span>editors</span></span><span>, </span><em><span>Security and Privacy in Mobile Information and Communication Systems</span></em><span>, </span><span><span><span>volume</span><span> </span><span>107</span></span><span> </span><span><span>of</span><span> </span><span>Lecture Notes of the Institute for Computer Sciences, Social Informatics and Telecommunications Engineering</span></span></span></span><span>, </span><span><span>24</span><span>–</span><span>37</span></span><span>.</span></span></span><span> </span><span><span>Springer Berlin Heidelberg</span><span>, </span><span>2012</span><span>.</span></span></span></span></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mumo11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[4]</td><td><span class="first last"><span><span><span><span><span><span><span>Wolf</span><span> </span></span><span>Müller</span></span><span>, </span><span><span><span>Frank</span><span> </span></span><span>Morgner</span></span></span><span>, and </span><span><span><span>Dominik</span><span> </span></span><span>Oepen</span></span></span><span>.</span></span><span> </span><span><span>Mobiles szenario für den neuen personalausweis</span><span>.</span></span></span><span> </span><span><span><span>In</span><span> </span><span><span><span><span><span><span>Ulrich</span><span> </span></span><span>Waldmann</span></span><span>, </span><span>editor</span></span><span>, </span><em><span>Tagungsband zum 21. SIT-SmartCard Workshop</span></em></span><span>, </span><span>179–188</span><span>.</span></span></span><span> </span><span><span><span>Stuttgart</span><span>, </span><span>2011</span><span>.</span></span><span> </span><span><span>Fraunhofer-Institut für sichere Informationstechnologie</span><span>, </span><span>Fraunhofer Verlag</span><span>.</span></span></span></span></span></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="oepen2010" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[5]</td><td><span class="first last"><span><span><span><span><span>Dominik</span><span> </span></span><span>Oepen</span></span><span>.</span></span><span> </span><span><span>Authentisierung im mobilen web: zur usability eid-basierter authentisierung auf einem nfc handy</span><span>.</span></span></span><span> </span><span><span><span>Master&#8217;s thesis</span><span>, </span><span>Humboldt-Universität zu Berlin</span><span>, </span><span>Berlin</span></span><span>, </span><span>2010</span><span>.</span></span></span></td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="linuxtag" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[6]</td><td><span class="first last"><span><span><span><span><span><span>Dominik</span><span> </span></span><span>Oepen</span></span><span> and </span><span><span><span>Frank</span><span> </span></span><span>Morgner</span></span></span><span>.</span></span><span> </span><span><span>Foss im umfeld des neuen personalausweis</span><span>.</span></span></span><span> </span><span><span>LinuxTag 2011</span><span>, </span><span>2011</span><span>.</span></span></span></td></tr>
</tbody>
</table>
</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/vscard-logo_128.png" alt="Logo"/>
            </a></p>
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to the Virtual Smart Card Architecture documentation!</a><ul>
<li><a class="reference internal" href="#example-use-cases">Example Use Cases</a><ul>
<li><a class="reference internal" href="#mobile-phone-with-virtual-smartcard-connected-via-nfc">Mobile Phone with Virtual Smartcard connected via NFC</a></li>
<li><a class="reference internal" href="#mobile-smart-card-reader">Mobile Smart Card Reader</a></li>
</ul>
</li>
<li><a class="reference internal" href="#download">Download</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="virtualsmartcard/README.html"
                        title="next chapter">Virtual Smart Card</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="virtualsmartcard/README.html" title="Virtual Smart Card"
             >next</a></li>
        <li><a href="#">Virtual Smart Card Architecture 2014-04-18 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2013 by Dominik Oepen and Frank Morgner.
    </div>
  </body>
</html>